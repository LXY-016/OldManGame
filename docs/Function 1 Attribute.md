# Function 1 Attribute (属性与机制文档)

## 1. 概念定义 (Definitions)
为了方便程序逻辑判断，我们将属性和事件进行标签化 (Tagging)。

### 1.1. 时间机制详解
每个事件包含两个独立的时间轴：

*   **请求响应时间 (T-Request)**: 老人出现后头顶气泡存在的倒计时。
    *   **机制**: 若在倒计时结束前未派遣社工到达，则判定为**【失败】**（老人失望离开，扣分/扣血）。
    *   **状态**: 社工开始服务后，此倒计时暂停/消失。

*   **事件完成时间 (T-Action)**: 社工开始服务后，读条完成任务所需的时间。
    *   **机制**: 基础时间固定，但会根据社工属性进行减免 (Buff)。

## 2. 详细属性映射表 (Mapping System)

### 2.1. 老人需求事件 (Elderly Needs)
我们将5类事件分为三种颜色等级，便于UI区分：

| 事件ID | 事件名称 | 描述 | 示例 | 对应属性需求 | UI建议颜色 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **E-01** | 起居出行 | 搬重物、上下楼梯、扶起跌倒 | **强壮 (STR)** | 🟤 棕色/橙色 |
| **E-02** | 社交互动 | 聊天解闷、读报纸、调解纠纷 | **健谈 (CHA)** | 🟢 绿色 |
| **E-03** | 家具维修 | 换灯泡、修水管、调电视 | **聪明 (INT)** | 🔵 蓝色 |
| **E-04** | 求医治病 | 陪诊、取药、心理疏导 | **健谈 (CHA)** | 🟢 绿色 |
| **E-05** | 紧急健康 | 突发疾病急救、晕倒呼叫 | **强壮 (STR)** 或 **聪明 (INT)** | 🔴 红色 (高危) |

*注：E-04 归类为“健谈”可能是基于“陪护/安抚”逻辑；E-05 为双属性克制，代表既需要体力搬运也需要急救知识，任意其一即可生效。*

### 2.2. 社工小队成员 (Social Workers)
每个社工拥有一主属性（建议初期单人单属性）。

| 属性ID | 属性名称 | 克制事件 | 逻辑解释 |
| :--- | :--- | :--- | :--- |
| **Attr-A** | **强壮 (Strong)** | E-01, E-05 | 这里的“体力活”担当，能扛能背。 |
| **Attr-B** | **健谈 (Talkative)** | E-02, E-04 | 这里的“沟通”担当，能聊能哄。 |
| **Attr-C** | **聪明 (Smart)** | E-03, E-05 | 这里的“技术”担当，能修能救。 |

## 3. 数值计算公式 (Formulas)

### 3.1. 属性匹配判定
当玩家将社工拖拽至老人处时，系统判定社工属性与事件类型的关系：

*   **完美匹配 (Best Match)**: 社工属性在事件的“对应需求”列表中。
    *   **效果**: 大幅减少完成时间。
*   **普通匹配 (Normal Match)**: 社工属性不在列表中。
    *   **效果**: 使用基础完成时间（无惩罚，或者轻微惩罚）。
    *   **设计意图**: 允许玩家在紧急时刻用“错的人”去硬抗，避免因为缺人导致直接失败，但效率极低，占用人手。

### 3.2. 时间减免公式
设定一个 **减免系数 (Efficiency Factor)**。

$$实际完成时间 = 基础完成时间 \times (1 - 减免系数)$$

**建议数值设定：**
*   **基础完成时间 (Base Time)**: 5.0 秒
*   **完美匹配减免**: 50% (即系数 0.5)
*   **普通匹配减免**: 0% (即系数 0)

**运算示例：**
*   **场景**: 老人需要【修水管 (E-03)】，基础耗时 8秒。
    *   派去【聪明】的社工： $8s \times (1 - 0.5) = 4s$ -> **快速解决！**
    *   派去【强壮】的社工： $8s \times (1 - 0) = 8s$ -> **慢速解决**，占用该社工很久。
