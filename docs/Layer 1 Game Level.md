# 游戏关卡主界面需求文档 (UI Functional Specifications)
文档版本: V1.0 | 对应模块: 核心战斗/关卡循环

## 1. 界面整体布局概述 (Layout)
界面主要分为四个功能区域：
1.  **中心区域**: 场景层，游戏主要交互舞台。
2.  **下方区域**: 操作栏，显示可用的社工单位。
3.  **左上角区域**: 信息栏，显示分数与时间。
4.  **右上角区域**: 系统功能栏，暂停与退出。

## 2. 详细功能需求 (Functional Specifications)

### 2.1. 中心区域 (Main Scene Area)
- **功能**: 承载游戏场景和角色行为。
- **美术需求**: 独居老人所在的小区环境（老旧小区、公园）。
- **NPC 逻辑 (老人)**:
    - **生成**: 从场景边缘进入。
    - **状态**: 头顶显示需求气泡（不同颜色代表不同事件类型，如红色-急救，绿色-聊天）。
    - **离开**: 需求满足后播放感谢动画离开；超时则判定失败离开。

### 2.2. 下方区域 (Bottom Operation Bar)
- **功能**: 放置“社工小队”成员。
- **布局**: 屏幕底部横向排布。
- **属性标识**: 每个头像需通过图标或边框颜色暗示其**主属性**（无属性/强壮/健谈/聪明）。
- **核心交互 (Drag & Drop)**:
    - 按住社工头像拖拽至场景老人位置。
    - 落点在判定范围内触发“帮助”。

### 2.3. 社工状态循环
    1.  **待机**: 栏内亮起可用。
    2.  **工作**: 被拖拽至场景，读条进行服务（时长受属性匹配影响）。
    3.  **返回**: 任务完成后自动返回。
    4.  **冷却 (Cooldown)**: 返回后置灰，倒计时结束后恢复高亮待机。

### 2.3. 左上角区域 (HUD - Info)
- **得分**: 完成需求实时累加，数字滚动动效。
- **倒计时**: MM:SS 格式。归零时锁死操作，弹出结算。

### 2.4. 右上角区域 (HUD - System)
- **退出按钮**: 暂停游戏，弹出二次确认窗。确认后返回 [启动/主界面 (Layer 0)]。
- **暂停按钮**: 游戏冻结，全屏半透明遮罩，显示“继续”按钮。

## 3. 关联界面 (Linked Flows)
- **结算界面**: 倒计时结束后根据得分跳转“胜利”或“失败”结算页。

## 4. 交互细节与动效 (Interaction Notes)
- **拖拽反馈**: 拖动时模型/图标放大，目标老人高亮。
- **冷却反馈**: 冷却结束时闪光/音效提示。
- **积分反馈**: “+100” 飘字动效。

## 5. 开发待确认项 (Dev Notes)
- 同屏最大老人数量：(建议初期设定为 5)
- 冷却点击反馈：(建议播放“不可用”音效)
- 服务并发：(建议初期设定为一对一服务)
